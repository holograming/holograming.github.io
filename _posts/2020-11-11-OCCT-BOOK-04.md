---
title:  "프로젝트 환경설정"
excerpt: "Opencascade 빌드 방법"

categories:
  - Opencascade
tags:
  - cpp
  - opencascade
  - occt
  - cmake
last_modified_at: 2020-11-11
---

### 1. 준비
- - -
이전 [Opencasecade 설명](#OCCT-BOOK-01)에 이어 빌드 방법에 대해 설명하겠습니다.
먼저 빌드를 위해 준비 파일들이 필요합니다.
제가 구성하고자 하는 빌드 환경은 다음과 같습니다.  

> 1. Visual studio 2017 x64
> 2. [CMAKE 3.17](https://cmake.org/download/)
> 3. [opencascade 7.4.0](https://github.com/tpaviot/oce/releases)
> 4. [VTK 8.2.0](https://vtk.org/download/)
> 5. [QT 5.11.3](https://download.qt.io/new_archive/qt/5.11/5.11.3/)
> 6. [3rdparty for opencascad](https://old.opencascade.com/content/latest-release)

먼저 빌드 방법은 [관련 페이지](
https://old.opencascade.com/doc/occt-6.9.1/overview/html/occt_dev_guides__building_3rdparty_windows.html) 를 참고하여 진행하였습니다.  
제가 별도 빌드를 진행한 이유는, [Release](https://old.opencascade.com/content/latest-release) 중인 버전에는 vtk가 qt를 포함하여 빌드가 되지 않았습니다. 

빌드 순서는 다음과 같이 진행한다.
> 1. [VTK + QT build]()
> 2. [OCCT + 3rdparty + VTK]()
> 3. 테스트 app 프로젝트 설정

빌드 방법에 대해서 궁금하신 분들은 관련 링크를 참고하여 빌드를 진행하시길 바랍니다. (가능하시다면 OCCT 빌드는 진행하시길 예제 참고를 위해 권장드립니다.)

저는 테스트 app 프로젝트 설정에 대해 말씀을 드리겠습니다.


그럼 [Ext](https://drive.google.com/file/d/132RvlJAFCSDp_rRfR5T2OQU_V73Tk9VC/view?usp=sharing) 파일을 다운로드 합니다.

![Ext.7z](/assets/images/OCCT/ext_settings.png)

그리고 프로젝트를 [clone](https://github.com/holograming/OCCT_VIEWER) 해줍니다.

다운로드한 ext.7z을 아래와 같이 설치해 줍니다.

![source settings](/assets/images/OCCT/source_settings.png)

cmake-gui.exe를 실행하고, source 위치를 설정합니다.
저는 vs2017/x64로 변경하여 사용 하였습니다.
첫번째 configure를 진행합니다.

![source settings](/assets/images/OCCT/cmake_2.png)

"EXT_LIB_PATH" 설정을 필요로 합니다.

![source settings](/assets/images/OCCT/cmake_3.png)

설정한 ext 폴더를 설정 후 2번째 configure를 수행합니다.

![source settings](/assets/images/OCCT/cmake_4.png)

"VTK_DIR", "Qt_opengl"을 설정합니다.(추가적으로 cmake 옵션은 Debug/RelWithDebInfo 를 설정하였습니다.)

3번째 Configure를 수행합니다.

![source settings](/assets/images/OCCT/cmake_5.png)

정상적으로 입력했다면, QT는 찾고, Opencascade 설정을 해줘야 합니다. 아래처럼 ext/opencascade르 입력해주고, 4번째 configure를 수행합니다.

![source settings](/assets/images/OCCT/cmake_6.png)

이제 정상적으로 configure가 완료되어 generate를 실행하면 프로젝트가 생성 되었습니다.